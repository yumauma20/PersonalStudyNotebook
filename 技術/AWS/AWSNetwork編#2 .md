# 4 - 02
- 複数のVPC
  - 多くの場合はセキュリティの理由で複数必要になる

システム間の連携の理由でVPC間の通信が必要になる

接続する方法としては二つある
1. VPCピアリング接続

- 2つのVPC間をプライベートに接続
- 異なるリージョン間,異なるAWSアカウント間の接続できる
- IPアドレス空間が重複していない
- ピアVPCとピアリングされている他のVPCにアクセスできない

→少ない数に向いている

2. Transit Gateway接続

- 多くの数のVPCを接続する場合ネットワークを簡素化できる

→多い数に向いている

今回はVPCピアリング接続を使う

作業の流れ
1. メインVPC作成
2. ピアリングVPC作成
3. ピアリング接続承諾
4. ピアリング接続用のルートテーブルを更新
5. メインVPCのルートテーブルを更新
6. ピアリング接続用VPCにEC２
7. メインVPCにCloud9
8. ピアリング接続疎通確認

# 4 - 05

- VPCとオンプレミスを接続する
  - 目的は、オンプレミスとハイブリット構成でシステムを提供する、オンプレミスとAWSをセキュアに接続したい
  - オンプレミスからAWSに移行するあたりセキュアにデータ転送を行いたい

- オンプレミスとは
  - システムの稼働やインフラの構築に必要となるサーバーやネットワーク機器、あるいはソフトウェアなどを自社で保有し運用するシステムの利用形態のことを指す

- 接続方法
  - Internet VPN接続 
    - IPsec VPNを介してAWSにプライベートに接続する（冗長化を確保するために二つ用意する）
    - 拠点とAWSを簡単に速く接続したい
    - 少量のトラフィック
  - 専用線接続
    - AWS Direct Connect
    - Direct Connectロケーション
      - 利用者の機器とAWSの機器を物理的に確保

# 4 - 07
- Site-to-SiteVPNとは
  - VPN接続
    - オンプレミス機器とVPC間の安全な接続。
  - VPNトンネル
    - ネットワークとAWSの間でデータを送受信できる暗号化されたリンク。
  - カスタマーゲートウェイ
    - カスタマーゲートウェイデバイスに関する情報をAWSに提供するAWSリソース。
  - カスタマーゲートウェイデバイス
    - Site-to-SiteVPN接続のユーザー側にある物理的なデバイスまたはソフトウェアアプリケーション。
  - ターゲットゲートウェイ
    - Site-to-SiteVPN接続のAmazon側にあるVPNエンドポイントの総称。
  - 仮想プライベートゲートウェイ
    - 仮想プライベートゲートウェイは、単一のVPCにアタッチできるAmazon側の Site-to-SiteVPN接続のVPNエンドポイントです。
  - 転送ゲートウェイ
    - 複数のVPCとオンプレミスネットワークを相互接続するために使用でき、Site-to-SiteVPN接続のAmazon側のVPNエンドポイントとして使用できる転送ハブ。

